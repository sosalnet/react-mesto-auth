{"ast":null,"code":"class Api {\n  constructor(apiConfig) {\n    this._url = apiConfig.url;\n    this._headers = apiConfig.headers;\n  }\n\n  _check(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch('https://nomoreparties.co/v1/cohort-48/users/me', {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._check);\n  }\n\n  getCards() {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-48/cards', {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._check);\n  }\n\n  setUserInfo(username, description) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-48/users/me', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: username,\n        about: description\n      })\n    }).then(this._check);\n  }\n\n  addNewCard(name, link) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-48/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(this._check);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-48/cards/likes/${id}`, {\n      method: isLiked ? 'PUT' : 'DELETE',\n      headers: this._headers\n    }).then(this._check);\n  }\n\n  deleteCard(id) {\n    return fetch(`https://mesto.nomoreparties.co/v1/cohort-48/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._check);\n  }\n\n  addNewAvatar(avatar) {\n    return fetch('https://mesto.nomoreparties.co/v1/cohort-48/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar.avatar\n      })\n    }).then(this._check);\n  }\n\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-48',\n  headers: {\n    authorization: '9e48cf18-b746-4718-9bb6-c10376174994',\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","apiConfig","_url","url","_headers","headers","_check","res","ok","json","Promise","reject","status","getUserInfo","fetch","method","then","getCards","setUserInfo","username","description","body","JSON","stringify","name","about","addNewCard","link","changeLikeCardStatus","id","isLiked","deleteCard","addNewAvatar","avatar","api","authorization"],"sources":["/Users/timurito/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n    constructor(apiConfig) {\n        this._url = apiConfig.url;\n        this._headers = apiConfig.headers;\n    }\n\n    _check(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getUserInfo() {\n        return fetch('https://nomoreparties.co/v1/cohort-48/users/me', {\n                method: 'GET',\n                headers: this._headers\n            })\n            .then(this._check)\n    }\n\n    getCards() {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-48/cards', {\n                method: 'GET',\n                headers: this._headers\n            })\n            .then(this._check)\n    }\n\n    setUserInfo(username, description) {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-48/users/me', {\n                method: 'PATCH',\n                headers: this._headers,\n                body: JSON.stringify({\n                    name: username,\n                    about: description\n                })\n            })\n            .then(this._check)\n    }\n\n    addNewCard(name, link) {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-48/cards', {\n                method: 'POST',\n                headers: this._headers,\n                body: JSON.stringify({\n                    name: name,\n                    link: link\n                })\n            })\n            .then(this._check)\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-48/cards/likes/${id}`, {\n                method: isLiked ? 'PUT' : 'DELETE',\n                headers: this._headers\n            })\n            .then(this._check);\n    }\n\n    deleteCard(id) {\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-48/cards/${id}`, {\n                method: 'DELETE',\n                headers: this._headers\n            })\n            .then(this._check);\n    }\n\n    addNewAvatar(avatar) {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-48/users/me/avatar', {\n                method: 'PATCH',\n                headers: this._headers,\n                body: JSON.stringify({\n                    avatar: avatar.avatar\n                })\n            })\n            .then(this._check);\n    }\n}\n\nconst api = new Api({\n    url: 'https://mesto.nomoreparties.co/v1/cohort-48',\n    headers: {\n        authorization: '9e48cf18-b746-4718-9bb6-c10376174994',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api;"],"mappings":"AAAA,MAAMA,GAAN,CAAU;EACNC,WAAW,CAACC,SAAD,EAAY;IACnB,KAAKC,IAAL,GAAYD,SAAS,CAACE,GAAtB;IACA,KAAKC,QAAL,GAAgBH,SAAS,CAACI,OAA1B;EACH;;EAEDC,MAAM,CAACC,GAAD,EAAM;IACR,IAAIA,GAAG,CAACC,EAAR,EAAY;MACR,OAAOD,GAAG,CAACE,IAAJ,EAAP;IACH;;IACD,OAAOC,OAAO,CAACC,MAAR,CAAgB,WAAUJ,GAAG,CAACK,MAAO,EAArC,CAAP;EACH;;EAEDC,WAAW,GAAG;IACV,OAAOC,KAAK,CAAC,gDAAD,EAAmD;MACvDC,MAAM,EAAE,KAD+C;MAEvDV,OAAO,EAAE,KAAKD;IAFyC,CAAnD,CAAL,CAIFY,IAJE,CAIG,KAAKV,MAJR,CAAP;EAKH;;EAEDW,QAAQ,GAAG;IACP,OAAOH,KAAK,CAAC,mDAAD,EAAsD;MAC1DC,MAAM,EAAE,KADkD;MAE1DV,OAAO,EAAE,KAAKD;IAF4C,CAAtD,CAAL,CAIFY,IAJE,CAIG,KAAKV,MAJR,CAAP;EAKH;;EAEDY,WAAW,CAACC,QAAD,EAAWC,WAAX,EAAwB;IAC/B,OAAON,KAAK,CAAC,sDAAD,EAAyD;MAC7DC,MAAM,EAAE,OADqD;MAE7DV,OAAO,EAAE,KAAKD,QAF+C;MAG7DiB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjBC,IAAI,EAAEL,QADW;QAEjBM,KAAK,EAAEL;MAFU,CAAf;IAHuD,CAAzD,CAAL,CAQFJ,IARE,CAQG,KAAKV,MARR,CAAP;EASH;;EAEDoB,UAAU,CAACF,IAAD,EAAOG,IAAP,EAAa;IACnB,OAAOb,KAAK,CAAC,mDAAD,EAAsD;MAC1DC,MAAM,EAAE,MADkD;MAE1DV,OAAO,EAAE,KAAKD,QAF4C;MAG1DiB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjBC,IAAI,EAAEA,IADW;QAEjBG,IAAI,EAAEA;MAFW,CAAf;IAHoD,CAAtD,CAAL,CAQFX,IARE,CAQG,KAAKV,MARR,CAAP;EASH;;EAEDsB,oBAAoB,CAACC,EAAD,EAAKC,OAAL,EAAc;IAC9B,OAAOhB,KAAK,CAAE,2DAA0De,EAAG,EAA/D,EAAkE;MACtEd,MAAM,EAAEe,OAAO,GAAG,KAAH,GAAW,QAD4C;MAEtEzB,OAAO,EAAE,KAAKD;IAFwD,CAAlE,CAAL,CAIFY,IAJE,CAIG,KAAKV,MAJR,CAAP;EAKH;;EAEDyB,UAAU,CAACF,EAAD,EAAK;IACX,OAAOf,KAAK,CAAE,qDAAoDe,EAAG,EAAzD,EAA4D;MAChEd,MAAM,EAAE,QADwD;MAEhEV,OAAO,EAAE,KAAKD;IAFkD,CAA5D,CAAL,CAIFY,IAJE,CAIG,KAAKV,MAJR,CAAP;EAKH;;EAED0B,YAAY,CAACC,MAAD,EAAS;IACjB,OAAOnB,KAAK,CAAC,6DAAD,EAAgE;MACpEC,MAAM,EAAE,OAD4D;MAEpEV,OAAO,EAAE,KAAKD,QAFsD;MAGpEiB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACjBU,MAAM,EAAEA,MAAM,CAACA;MADE,CAAf;IAH8D,CAAhE,CAAL,CAOFjB,IAPE,CAOG,KAAKV,MAPR,CAAP;EAQH;;AA9EK;;AAiFV,MAAM4B,GAAG,GAAG,IAAInC,GAAJ,CAAQ;EAChBI,GAAG,EAAE,6CADW;EAEhBE,OAAO,EAAE;IACL8B,aAAa,EAAE,sCADV;IAEL,gBAAgB;EAFX;AAFO,CAAR,CAAZ;AAQA,eAAeD,GAAf"},"metadata":{},"sourceType":"module"}