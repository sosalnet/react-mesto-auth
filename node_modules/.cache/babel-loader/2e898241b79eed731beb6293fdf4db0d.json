{"ast":null,"code":"import _classCallCheck from\"/Users/timurito/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/timurito/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(apiConfig){_classCallCheck(this,Api);this._url=apiConfig.url;this._headers=apiConfig.headers;}_createClass(Api,[{key:\"_check\",value:function _check(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch('https://nomoreparties.co/v1/cohort-48/users/me',{method:'GET',headers:this._headers}).then(this._check);}},{key:\"getCards\",value:function getCards(){return fetch('https://mesto.nomoreparties.co/v1/cohort-48/cards',{method:'GET',headers:this._headers}).then(this._check);}},{key:\"setUserInfo\",value:function setUserInfo(username,description){return fetch('https://mesto.nomoreparties.co/v1/cohort-48/users/me',{method:'PATCH',headers:this._headers,body:JSON.stringify({name:username,about:description})}).then(this._check);}},{key:\"addNewCard\",value:function addNewCard(name,link){return fetch('https://mesto.nomoreparties.co/v1/cohort-48/cards',{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._check);}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(id,isLiked){return fetch(\"https://mesto.nomoreparties.co/v1/cohort-48/cards/likes/\".concat(id),{method:isLiked?'PUT':'DELETE',headers:this._headers}).then(this._check);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"https://mesto.nomoreparties.co/v1/cohort-48/cards/\".concat(id),{method:'DELETE',headers:this._headers}).then(this._check);}},{key:\"addNewAvatar\",value:function addNewAvatar(avatar){return fetch('https://mesto.nomoreparties.co/v1/cohort-48/users/me/avatar',{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:avatar.avatar})}).then(this._check);}}]);return Api;}();var api=new Api({url:'https://mesto.nomoreparties.co/v1/cohort-48',headers:{authorization:'9e48cf18-b746-4718-9bb6-c10376174994','Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["Api","apiConfig","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_check","username","description","body","JSON","stringify","name","about","link","id","isLiked","avatar","api","authorization"],"sources":["/Users/timurito/dev/mesto-react/src/utils/Api.js"],"sourcesContent":["class Api {\n    constructor(apiConfig) {\n        this._url = apiConfig.url;\n        this._headers = apiConfig.headers;\n    }\n\n    _check(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getUserInfo() {\n        return fetch('https://nomoreparties.co/v1/cohort-48/users/me', {\n                method: 'GET',\n                headers: this._headers\n            })\n            .then(this._check)\n    }\n\n    getCards() {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-48/cards', {\n                method: 'GET',\n                headers: this._headers\n            })\n            .then(this._check)\n    }\n\n    setUserInfo(username, description) {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-48/users/me', {\n                method: 'PATCH',\n                headers: this._headers,\n                body: JSON.stringify({\n                    name: username,\n                    about: description\n                })\n            })\n            .then(this._check)\n    }\n\n    addNewCard(name, link) {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-48/cards', {\n                method: 'POST',\n                headers: this._headers,\n                body: JSON.stringify({\n                    name: name,\n                    link: link\n                })\n            })\n            .then(this._check)\n    }\n\n    changeLikeCardStatus(id, isLiked) {\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-48/cards/likes/${id}`, {\n                method: isLiked ? 'PUT' : 'DELETE',\n                headers: this._headers\n            })\n            .then(this._check);\n    }\n\n    deleteCard(id) {\n        return fetch(`https://mesto.nomoreparties.co/v1/cohort-48/cards/${id}`, {\n                method: 'DELETE',\n                headers: this._headers\n            })\n            .then(this._check);\n    }\n\n    addNewAvatar(avatar) {\n        return fetch('https://mesto.nomoreparties.co/v1/cohort-48/users/me/avatar', {\n                method: 'PATCH',\n                headers: this._headers,\n                body: JSON.stringify({\n                    avatar: avatar.avatar\n                })\n            })\n            .then(this._check);\n    }\n}\n\nconst api = new Api({\n    url: 'https://mesto.nomoreparties.co/v1/cohort-48',\n    headers: {\n        authorization: '9e48cf18-b746-4718-9bb6-c10376174994',\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api;"],"mappings":"2OAAMA,I,yBACF,aAAYC,SAAZ,CAAuB,2BACnB,KAAKC,IAAL,CAAYD,SAAS,CAACE,GAAtB,CACA,KAAKC,QAAL,CAAgBH,SAAS,CAACI,OAA1B,CACH,C,sCAED,gBAAOC,GAAP,CAAY,CACR,GAAIA,GAAG,CAACC,EAAR,CAAY,CACR,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACH,CACD,MAAOC,QAAO,CAACC,MAAR,iDAA0BJ,GAAG,CAACK,MAA9B,EAAP,CACH,C,2BAED,sBAAc,CACV,MAAOC,MAAK,CAAC,gDAAD,CAAmD,CACvDC,MAAM,CAAE,KAD+C,CAEvDR,OAAO,CAAE,KAAKD,QAFyC,CAAnD,CAAL,CAIFU,IAJE,CAIG,KAAKC,MAJR,CAAP,CAKH,C,wBAED,mBAAW,CACP,MAAOH,MAAK,CAAC,mDAAD,CAAsD,CAC1DC,MAAM,CAAE,KADkD,CAE1DR,OAAO,CAAE,KAAKD,QAF4C,CAAtD,CAAL,CAIFU,IAJE,CAIG,KAAKC,MAJR,CAAP,CAKH,C,2BAED,qBAAYC,QAAZ,CAAsBC,WAAtB,CAAmC,CAC/B,MAAOL,MAAK,CAAC,sDAAD,CAAyD,CAC7DC,MAAM,CAAE,OADqD,CAE7DR,OAAO,CAAE,KAAKD,QAF+C,CAG7Dc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,IAAI,CAAEL,QADW,CAEjBM,KAAK,CAAEL,WAFU,CAAf,CAHuD,CAAzD,CAAL,CAQFH,IARE,CAQG,KAAKC,MARR,CAAP,CASH,C,0BAED,oBAAWM,IAAX,CAAiBE,IAAjB,CAAuB,CACnB,MAAOX,MAAK,CAAC,mDAAD,CAAsD,CAC1DC,MAAM,CAAE,MADkD,CAE1DR,OAAO,CAAE,KAAKD,QAF4C,CAG1Dc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,IAAI,CAAEA,IADW,CAEjBE,IAAI,CAAEA,IAFW,CAAf,CAHoD,CAAtD,CAAL,CAQFT,IARE,CAQG,KAAKC,MARR,CAAP,CASH,C,oCAED,8BAAqBS,EAArB,CAAyBC,OAAzB,CAAkC,CAC9B,MAAOb,MAAK,mEAA4DY,EAA5D,EAAkE,CACtEX,MAAM,CAAEY,OAAO,CAAG,KAAH,CAAW,QAD4C,CAEtEpB,OAAO,CAAE,KAAKD,QAFwD,CAAlE,CAAL,CAIFU,IAJE,CAIG,KAAKC,MAJR,CAAP,CAKH,C,0BAED,oBAAWS,EAAX,CAAe,CACX,MAAOZ,MAAK,6DAAsDY,EAAtD,EAA4D,CAChEX,MAAM,CAAE,QADwD,CAEhER,OAAO,CAAE,KAAKD,QAFkD,CAA5D,CAAL,CAIFU,IAJE,CAIG,KAAKC,MAJR,CAAP,CAKH,C,4BAED,sBAAaW,MAAb,CAAqB,CACjB,MAAOd,MAAK,CAAC,6DAAD,CAAgE,CACpEC,MAAM,CAAE,OAD4D,CAEpER,OAAO,CAAE,KAAKD,QAFsD,CAGpEc,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBM,MAAM,CAAEA,MAAM,CAACA,MADE,CAAf,CAH8D,CAAhE,CAAL,CAOFZ,IAPE,CAOG,KAAKC,MAPR,CAAP,CAQH,C,mBAGL,GAAMY,IAAG,CAAG,GAAI3B,IAAJ,CAAQ,CAChBG,GAAG,CAAE,6CADW,CAEhBE,OAAO,CAAE,CACLuB,aAAa,CAAE,sCADV,CAEL,eAAgB,kBAFX,CAFO,CAAR,CAAZ,CAQA,cAAeD,IAAf"},"metadata":{},"sourceType":"module"}